Installation of PyWBEM
======================

PyWBEM can be installed quite easily by running its standard Python setup
script (`setup.py`) with the `install` command, or by using `pip install`.
As of v0.8.0, it automatically installs its dependencies (e.g. M2Crypto).

The installation is supported into the default system Python, and into virtual
Python environments (see `virtualenvwrapper` package).

Examples
--------

* Install latest version from PyPI into default system Python:

      sudo pip install pywbem

* Install latest version from PyPI into new Python 2.7 virtual environment:

      mkvirtualenv -p python2.7 pywbem27
      pip install pywbem

* Install from master branch on GitHub into default system Python:

      git clone git@github.com:pywbem/pywbem.git pywbem
      cd pywbem/src
      sudo python setup.py install

* Install from master branch on GitHub into new Python 2.7 virtual environment:

      git clone git@github.com:pywbem/pywbem.git pywbem
      cd pywbem/src
      mkvirtualenv -p python2.7 pywbem27
      python setup.py install

* Install from a particular distribution archive on GitHub into new Python 2.7
  virtual environment:

      wget https://github.com/pywbem/pywbem/blob/master/dist/pywbem-0.8.0/pywbem-0.8.0-dev.20151108.zip
      unzip pywbem-0.8.0-dev.20151108.zip
      cd pywbem-0.8.0.dev0/src
      mkvirtualenv -p python2.7 pywbem27
      python setup.py install

The command syntax above is shown for Linux, but this works the same way on
Windows and on other operating systems supported by Python.

Test of installation
--------------------

To test that PyWBEM is sucessfully installed, start up a Python interpreter and
try to import the pywbem module:

    python -c "import pywbem"

If you do not see any error messages after the import command, PyWBEM has been
sucessfully installed and its dependencies are available.

Troubleshooting
---------------

* `swig error : Unrecognized option -builtin`

  Root cause: This error occurs when M2Crypto is installed as part of the PyWBEM
  installation, and the version of `swig` is not sufficient. The M2Crypto
  installation requires at least Swig version 2.0.

  Solution: Update your version of Swig to at least 2.0. If your operating
  system does not provide for such a version, download and build Swig as
  described in "Building Swig".

Building Swig
-------------

To build Swig, perform the following commands in a new subdirectory. The
installation command used is `yum`, replace it as needed for your operating
system:

    # Install prerequisite development packages
    sudo yum install pcre-devel

    # Download latest version of Swig and unpack it
    wget -q -O swig.tar.gz http://sourceforge.net/projects/swig/files/latest/download?source=files
    tar -xf swig.tar.gz
    rm swig.tar.gz

    # Build Swig and install it to the system
    cd swig-*
    make clean dist-clean
    ./configure --prefix=/usr
    make swig
    sudo make install
    cd ..

Note that installing PyWBEM to the system Python invokes the M2Crypto build
also under root permissions, so the new Swig version needs to be available
via the PATH of root, in this case.
Verify that the new version is available both for your userid and for root:

    swig -version
    sudo swig -version
